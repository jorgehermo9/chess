(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{15:function(e,c,t){"use strict";t.r(c);var i=t(2),n=t(8),a=t.n(n),o=t(3),l=t(4),j=t.n(l),r=t(1);var s=function(e){var c={backgroundColor:(e.pos.i+e.pos.j)%2===0?"#787878":"#2b2b2b"},t=e.piece?e.piece.type:"",i=e.piece?{borderColor:"".concat("white"===e.piece.color?"white":"black"),borderWidth:"0.2vmax",borderStyle:"solid",color:"white"===e.piece.color?"white":"black"}:null;return Object(r.jsx)("div",{className:j.a.cell,style:c,id:"cell".concat(e.pos.i).concat(e.pos.j),onClick:function(){return e.onSelected({pos:e.pos,piece:e.piece})},children:Object(r.jsx)("div",{className:"".concat(j.a.pieceContainer," ").concat(e.validMove?j.a.validMove:j.a.notValidMove),children:Object(r.jsx)("span",{className:j.a.piece,style:i,children:t})})},e.pos.j+e.pos.i*e.n)},b=t(9),u=t.n(b),p=t(0);function O(e,c){return{pos:{i:e,j:c},piece:null}}function h(e){for(var c={n:e,cells:[]},t=0;t<e;t++)for(var i=0;i<e;i++)c.cells.push(O(t,i));return function(e){var c=e;return d(c,"R","black",0,0),d(c,"N","black",0,1),d(c,"B","black",0,2),d(c,"Q","black",0,3),d(c,"K","black",0,4),d(c,"B","black",0,5),d(c,"N","black",0,6),d(c,"R","black",0,7),d(c,"P","black",1,0),d(c,"P","black",1,1),d(c,"P","black",1,2),d(c,"P","black",1,3),d(c,"P","black",1,4),d(c,"P","black",1,5),d(c,"P","black",1,6),d(c,"P","black",1,7),d(c,"R","white",7,0),d(c,"N","white",7,1),d(c,"B","white",7,2),d(c,"Q","white",7,3),d(c,"K","white",7,4),d(c,"B","white",7,5),d(c,"N","white",7,6),d(c,"R","white",7,7),d(c,"P","white",6,0),d(c,"P","white",6,1),d(c,"P","white",6,2),d(c,"P","white",6,3),d(c,"P","white",6,4),d(c,"P","white",6,5),d(c,"P","white",6,6),d(c,"P","white",6,7),c}(c)}function d(e,c,t,i,n){e.cells[n+i*e.n].piece={color:t,type:c}}function v(e,c){return c.i>=0&&c.i<e.n&&c.j>=0&&c.j<e.n}function f(e,c,t){return t.filter((function(t){var i=t.j+t.i*e.n;return v(e,t)&&(null===e.cells[i].piece||e.cells[i].piece.color!==c)}))}function k(e,c,t){for(var i=[],n=1,a={i:t.i+c.i,j:t.j+c.j};v(e,a)&&null===e.cells[a.j+a.i*e.n].piece;)i.push(a),n++,a={i:t.i+c.i*n,j:t.j+c.j*n};return i.push(a),i}function w(e,c){var t=c.pos,i=c.piece,n=[];switch(i.type){case"P":n=function(e,c,t){var i=c.i,n=c.j,a="black"===t?1:-1,o="black"===t?1:6,l=[],j={i:i+a,j:n},r={i:i+2*a,j:n};return[{i:i+a,j:n-1},{i:i+a,j:n+1}].forEach((function(c){v(e,c)&&e.cells[c.j+c.i*e.n].piece&&e.cells[c.j+c.i*e.n].piece.color!==t&&l.push(c)})),v(e,j)&&null===e.cells[j.j+j.i*e.n].piece&&(l.push(j),i===o&&v(e,r)&&null===e.cells[r.j+r.i*e.n].piece&&l.push(r)),f(e,t,l)}(e,t,i.color);break;case"N":n=function(e,c,t){var i=c.i,n=c.j;return f(e,t,[{i:i+2,j:n-1},{i:i+2,j:n+1},{i:i-2,j:n-1},{i:i-2,j:n+1},{i:i+1,j:n-2},{i:i-1,j:n-2},{i:i+1,j:n+2},{i:i-1,j:n+2}])}(e,t,i.color);break;case"K":n=function(e,c,t){var i=c.i,n=c.j;return f(e,t,[{i:i+1,j:n},{i:i-1,j:n},{i:i,j:n+1},{i:i,j:n-1},{i:i-1,j:n-1},{i:i-1,j:n+1},{i:i+1,j:n-1},{i:i+1,j:n+1}])}(e,t,i.color);break;case"Q":n=function(e,c,t){var i=[];return i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:1,j:0},c))),i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:-1,j:0},c))),i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:0,j:1},c))),i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:0,j:-1},c))),i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:-1,j:-1},c))),i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:-1,j:1},c))),i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:1,j:1},c))),f(e,t,i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:1,j:-1},c))))}(e,t,i.color);break;case"B":n=function(e,c,t){var i=[];return i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:-1,j:-1},c))),i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:-1,j:1},c))),i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:1,j:1},c))),f(e,t,i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:1,j:-1},c))))}(e,t,i.color);break;case"R":n=function(e,c,t){var i=[];return i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:1,j:0},c))),i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:-1,j:0},c))),i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:0,j:1},c))),f(e,t,i=[].concat(Object(p.a)(i),Object(p.a)(k(e,{i:0,j:-1},c))))}(e,t,i.color)}return n}var P=function(e){function c(c){null===p?null!==c.piece&&c.piece.color===P&&w(a,c).length>0&&(O(c),k(w(a,c))):(f.some((function(e){return e.i===c.pos.i&&e.j===c.pos.j}))&&(l((function(e){var t=e,i=p.pos.j+p.pos.i*e.n,n=c.pos.j+c.pos.i*e.n;return t.cells[n].piece=e.cells[i].piece,t.cells[i].piece=null,t})),c.piece&&"K"===c.piece.type&&e.setWon(P),_("white"===P?"black":"white")),O(null),k([]))}var t=Object(i.useState)(h(8)),n=Object(o.a)(t,2),a=n[0],l=n[1],j=Object(i.useState)(null),b=Object(o.a)(j,2),p=b[0],O=b[1],d=Object(i.useState)([]),v=Object(o.a)(d,2),f=v[0],k=v[1],P=e.turn,_=e.setTurn;return Object(r.jsx)("div",{className:u.a.board,children:a.cells.map((function(e,t){return Object(r.jsx)(s,{n:a.n,pos:e.pos,piece:e.piece,validMove:f.some((function(c){return c.i===e.pos.i&&c.j===e.pos.j})),onSelected:c},t)}))})};var _=function(){var e=Object(i.useState)("white"),c=Object(o.a)(e,2),t=c[0],n=c[1],a=Object(i.useState)("none"),l=Object(o.a)(a,2),j=l[0],s=l[1];return"none"===j?Object(r.jsxs)("div",{children:[Object(r.jsx)(P,{turn:t,setTurn:n,won:j,setWon:s}),Object(r.jsxs)("h1",{children:["Turn: ",t]})]}):Object(r.jsxs)("div",{children:[Object(r.jsxs)("h1",{children:[j," won!"]}),Object(r.jsx)("button",{onClick:function(){return s("none")},children:"Play again"})]})};a.a.render(Object(r.jsx)(_,{}),document.getElementById("root"))},4:function(e,c,t){e.exports={cell:"Cell_cell__gTdPA",piece:"Cell_piece__dk1Hx",pieceContainer:"Cell_pieceContainer__3zyC3",notValidMove:"Cell_notValidMove__zf5S6",validMove:"Cell_validMove__2RTPT"}},9:function(e,c,t){e.exports={board:"Board_board__1Y7VT"}}},[[15,1,2]]]);
//# sourceMappingURL=main.06c15e7f.chunk.js.map